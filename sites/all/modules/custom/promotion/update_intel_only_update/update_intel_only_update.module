<?php

function update_intel_only_update_menu() {
  $items['update_nid'] = array(
    'page callback' => 'update_nids',
    'access callback' => true,
  );
  return $items;
}
function update_nids() {
	/*
  $nids =array('31777');
  $count =0;
  foreach ($nids as $nid) {
    $node = node_load($nid);
	$wrapper = entity_metadata_wrapper('node', $node);
	$wrapper->field_access->set(2);
	$wrapper->save();
	$count = $count +1;
}
echo 'No of recordss updated'.$count;
*/
ini_set('memory_limit', '2G');
	ini_set('default_socket_timeout', 48000);
    $nids = array('36127','36243','36401','36771','36957','37003','37051','37052','37663','37673','37674','37804','37831','37879','37880','37884','37887','37889','38734','38740','38780','38782','38860','38862','38864','39059','39060','39061','39300','39954','40103','40129','40130','40158','40160','40161','40186','40187','40514','40540','43783','43794','44046','44047','44048','44049','44066','44069','44718','44719','44721','44722','44723','44724','44725','44726','44727','44728','44729','44730','44731','44732','44734','44735','45131','45132','45197','45202','45264','45265','45268','45269','45319','45342','45343','45356','45357','45363','45372','45381','45442','45461','45486','45488','45516','45527','46173','46247','46248','46281','46284','46450','46504','46746','46758','46790','46972','47001','47009','47083','47088','47089','47301','47303','47305','47307','47308','47309','47310','47312','47313','47315','47316','47317','47318','47319','47321','47322','47323','47325','47326','47327','47328','47330','47332','47333','47335','47337','47338','47339','47340','47341','47342','47343','47344','47345','47346','47347','47348','47350','47351','47352','47353','47354','47355','47356','47357','47358','47377','47470','47565','48006','48007','48008','48216','48237','48329','48330','48333','48338','48340','48341','48342','48343','48344','48345','48346','48430','48431','48432','48433','48434','48435','48436','48437','48438','48439','48440','48441','48442','48443','48444','48445','48446','48447','48448','48449','48450','48451','48452','48453','48454','48455','48456','48458','48459','48460','48461','48462','48463','48464','48466','26621','26724','27067','27288','27552','27560','27634','27646','27695','27703','27730','27736','27780','27794','27845','27848','27854','27856','28127','28145','28968','28969','28993','29209','29212','29213','29214','29216','29217','29465','29468','29475','29476','29492','29627','29630','29654','29885','29887','29888','29889','29890','29891','29893','29894','29895','29935','30143','30379','30397','30455','30456','30457','30458','30459','30460','30461','30462','30463','30464','30465','30466','30467','30503','30603','30615','30616','30617','30673','30674','30675','30676','30677','30682','30683','30688','31415','31417','31423','31429','31431','31449','31461','31482','31483','31484','31485','31486','31488','31492','31528','31531','31533','31537','31542','31551','31568','31582','31647','31649','31650','31652','31653','31654','31658','31661','31664','31678','31684','31685','31686','31690','31692','31695','31700','31705','31706','31710','31714','31715','31716','31718','31719','31720','31721','31722','31724','31725','31727','31728','31729','31730','31731','31734','31737','31738','31740','31744','31745','31747','31750','31751','31754','31755','31756','31757','31758','31760','31761','31762','31764','31765','31766','31767','31769','31770','31772','31774','31776','31777','31778','31785','31787','31788','31789','31790','31791','31792','31794','31795','31797','31799','31802','31803','31804','31805','31806','31807','31808','31809','31810','31811','31813','31814','31815','31817','31819','31820','31823','31824','31825','31827','31828','31829','31830','31831','31833','31834','31835','31836','31838','31839','31840','31842','31843','31846','31847','31848','31851','31852','31855','31859','31861','31865','31867','31868','31871','31874','31875','31878','31881','31882','31883','31884','31885','31888','31889','31890','31893','31897','31898','31900','31902','31904','31905','31907','31909','31912','31914','31915','31918','31921','31924','31925','31931','31933','31935','31936','31938','31942','31943','31944','31946','31948','31950','31951','31952','31953','31954','31955','31956','31957','31958','31959','31960','31961','31962','31963','31964','31965','31966','31967','31968','31969','31973','31978','31979','31981','31985','31987','31988','31990','31991','31994','32005','32006','32007','32008','32009','32013','32015','32017','32023','32028','32031','32035','32036','32038','32039','32040','32064','32066','32074','32075','32076','32080','32084','32086','32088','32091','32093','32094','32095','32096','32097','32098','32099','32100','32101','32102','32114','32115','32116','32117','32119','32120','32122','32123','32124','32125','32126','32128','32129','32130','32160','32655','32657','32803','32814','32823','32958','33462','34838','34839','35538','35791','35854','35855','35856','35862','35863','35865','35867','35868','35869','35870','35871','35872','35873','35874','35875','35876','35877','35878','35879','35880','35881','35882','35883','35884','35885','35886','36018','36036','36048','348','536','538','842','1081','1084','2619','2620','2625','2627','2639','2646','2647','2831','2874','3042','3788','9481','9482','9483','9484','9485','9486','9487','9488','11563','11683','11684','17249','17254','17262','17268','17270','18194','20897','20899','21254','21571','21748','22793','22794','22796','23122','23330','23527','23529','23572','23677','23678','23696','24280','24309','24311','24312','24313','24316','24320','24330','24509','25024','25058','25157','25291','25292','25404','25405','25616','4447','6863','6437','6415','6907','6775','5079','5081','5027','4981','4371','5025','5007','7421','7475','7159','4057','16232','16224','16220','16216','16228','16358','17043','17039','17643','17623','17595','17571','17563','18660','21093','21085','21393','22301','22517','24182','24180','24176','23731','23968','24260','24256','24717','24715','24713','24905','25731','25863','25861','26984','28070','27956','28181','28313','28303','28589','28585','28446','28439','28708','28701','28811','28789','28741','28735','28723','28721','28842','29151','29149','29305','29786','29783','29778','29771','29860','29854','29844','30106','30345','30655','30550','30631','30832','30858','30830','30860','30846','30844','30842','30840','30838','30836','30834','30828','34383','34379','34368','34354','34352','34318','34308','34304','34306','34300','34302','34298','34294','34286','34221','34217','34207','34205','34195','34191','34169','34141','34039','34033','34035','34025','34027','34019','34015','34011','34003','33977','33965','33959','33961','33953','33949','33941','33935','33348','33350','33336','33332','33334','33324','33328','33320','33322','33318','33312','33314','33316','33310','33306','33308','33300','33302','33294','33288','33290','33282','33278','33280','33270','33266','33268','33260','33262','33256','33252','33254','33248','33250','33240','33242','33244','33234','33236','33228','33230','33224','33222','33218','33220','33214','33206','33208','33204','33198','33200','33202','33196','33192','33194','33190','33180','33182','33184','33178','33174','33176','33168','33170','33172','33162','33164','33166','33933','33160','33925','33929','33921','33919','33913','33915','33907','33909','33911','33903','33905','33901','33895','33897','33899','33889','33891','33883','33887','33877','33873','33875','33871','33869','33861','33859','33857','33847','33841','33845','33835','33837','33839','33830','33822','33826','33816','33818','33820','33814','33812','33804','33806','33800','33796','33788','33786','33782','33778','33774','33768','33772','33764','33758','33760','33754','33744','33742','33734','33731','33721','33715','33717','33709','33705','33707','33697','33701','33695','33685','33687','33689','33683','33679','33681','33673','33675','33677','33671','33667','33669','33661','33663','33665','33655','33657','33659','33651','33653','33647','33633','33635','33625','33623','33615','33617','33609','33611','33605','33579','33581','33575','33571','33573','33559','33563','33557','33545','33158','33148','33144','33146','33138','33140','33130','33092','33086','33078','33080','33076','33074','33060','33058','33052','33056','33046','33048','33040','33042','33044','33034','33036','33038','33028','33030','33032','33022','33024','33026','33020','33016','33018','33010','33012','33014','33004','33006','33008','33002','32460','32939','32937','34942','34964','35260','35258','35768','36087','36183','36383','36381','36377','36668','37125','37788','37759','37741','37733','37731','39159','38851','39137','39136','38849','39135','39167','39244','39214','39126','39127','40730','44636','40728','44634','40705','43844','44931','45185','45183','46276','45437','45177','45174','45884','45883','45825','45827','45876','45835','45833','46400','46386','46392','46394','46380','46372','46360','46089','46097','47247','47111','47147','47287','47281','47772','47741','47808','48424','47802','48178','48422','48382','48378','48384','48386','48390','48370','48368','48366','48362','48364','48360','48358','48372','48374','48180','48182','48402','48186','3845','6862','6436','6414','6906','6774','5078','5080','5026','4980','4370','5024','5006','7420','7474','7158','4056','16230','16222','16218','16214','16226','16356','17041','17037','17641','17621','17593','17569','17561','18559','21091','21083','21391','22205','22516','24181','24179','24175','23730','23967','24259','24255','24716','24714','24712','24754','25730','25862','25860','26919','28069','27955','27991','28312','28302','28379','28375','28656','28649','28707','28700','28810','28788','28740','28734','28722','28720','28841','29150','29148','29304','29692','29689','29684','29676','29859','29853','29843','30105','30344','30654','30549','30630','30831','30857','30829','30859','30845','30843','30841','30839','30837','30835','30833','30827','34382','34378','34367','34353','34351','34317','34307','34303','34305','34299','34301','34297','34293','34285','34220','34216','34206','34204','34194','34190','34168','34140','34038','34032','34034','34024','34026','34018','34014','34010','34002','33976','33964','33958','33960','33952','33948','33940','33934','33347','33349','33335','33331','33333','33323','33327','33319','33321','33317','33311','33313','33315','33309','33305','33307','33299','33301','33293','33287','33289','33281','33277','33279','33269','33265','33267','33259','33261','33255','33251','33253','33247','33249','33239','33241','33243','33233','33235','33227','33229','33223','33221','33217','33219','33213','33205','33207','33203','33197','33199','33201','33195','33191','33193','33189','33179','33181','33183','33177','33173','33175','33167','33169','33171','33161','33163','33165','33932','33159','33924','33928','33920','33918','33912','33914','33906','33908','33910','33902','33904','33900','33894','33896','33898','33888','33890','33882','33886','33876','33872','33874','33870','33868','33860','33858','33856','33846','33840','33844','33834','33836','33838','33829','33821','33825','33815','33817','33819','33813','33811','33803','33805','33799','33795','33787','33785','33781','33777','33773','33767','33771','33763','33757','33759','33753','33743','33741','33833','33730','33720','33714','33716','33708','33704','33706','33696','33700','33694','33684','33686','33688','33682','33678','33680','33672','33674','33676','33670','33666','33668','33660','33662','33664','33654','33656','33658','33650','33652','33646','33632','33634','33624','33622','33614','33616','33608','33610','33604','33578','33580','33574','33570','33572','33558','33562','33556','33544','33157','33147','33143','33145','33137','33139','33129','33091','33085','33077','33079','33075','33073','33059','33057','33051','33055','33045','33047','33039','33041','33043','33033','33035','33037','33027','33029','33031','33021','33023','33025','33019','33015','33017','33009','33011','33013','33003','33005','33007','33001','32459','32938','32936','34941','35115','35259','35257','35767','36086','36182','36382','36380','36376','36667','37124','37787','37758','37740','37732','37730','39045','38850','39023','39022','38848','39021','39053','39243','39213','39012','39013','40729','44635','40727','44633','40704','43843','44930','45184','45182','46075','45310','45173','45824','45826','45834','45832','46399','46385','46391','46393','46379','46371','46359','46088','46096','47246','47110','47146','47286','47280','47771','47740','47807','48423','47801','48177','48421','48381','48377','48383','48385','48389','48369','48367','48365','48361','48363','48359','48357','48371','48373','48179','48181','48401','48185');
    $count =0;
    $p_count =0;
	foreach (node_load_multiple($nids) as $node) {
		/*
		$count = $count +1;
		$status = $node->status;
		
		if($node->status = 1){
			$count = $count +1;
			$node->field_access['und'][0]['value'] = 2;
		 $node->field_solution_type['und'][0]['value'] = "embedded iot";
		 
			$node->revision_moderation = FALSE;
			$node->is_current = TRUE;
			node_save($node);
			echo " ---------- ".$node->nid." -------- Saved ". $node->status." \n";
		}
		*/
		/*
		if($node->status == 0){
			$node->status = 0;
		}
		*/
			$count = $count +1;		
///*
		if($node->status == 0){
			$node->status = 0;

			$p_count=$p_count+1;
			echo $node->nid.",";
		}
		//*/
	    //echo " ---------- ".$node->nid." -------- Saved ". $node->status." </br>";
	}
echo 'No of recordss updated  : '.$count;
echo 'No of recordss not published  : '.$p_count;
}